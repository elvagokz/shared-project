# Создаём всё для git

## Создаём локальный git

1. Устанавливаем git
2. Создаём каталог для проекта и переходим в него
3. Вводим команду ***git init*** для инициализации
4. Создаем нужные файлы и папки
5. Когда всё создали вводим команду ***git add all*** или ***git add*** и далее списко файлов, которые вы хотите поставить в очередь на добавление в коммит.
6. Если решили что все файлы поствленны в очередь вводим команду ***git commit -m "Тут пишем коментарий, что поменялось"***

## Сойдаём github

1. Переходим в [github](https://github.com) и регистрируемся
2. Создаём репозиторий нажав на ***New***. В ***Repository name*** вводим имя нового репозитория. Ставим отметку на ***Public*** и жмём на ***Create repository*** 
3. На локальном сервере вводим команду  чтобы сгенерировать ssh ключи
 
```bash
ssh-keygen -t ed25519 -C "электронная почта, к которой привязан ваш аккаунт на GitHub"
```
4. Копируем ключ из ~/.ssh/id_ed25519.pub 
5. Переходим в github на ***setings-SSH and GPG keys-New SSH key***. Задаём Title и в поле Key вставляем свой ключ. Жмём на ***Add SSH key***
6. В своём репозитории выбрать ***ssh*** и скопировать адрес
7. На локальном компе ввести команду  ***git remote add origin *тут скопированный адрес****
8. Если не вышло ошибки и команда git remote -v показывает список связаных репозиториев, то вводим команду ***git push -u origin main***. для синхронизации локального и удалённого репозитория.
9. В будущем при добавлении файлов достаточно будет команды ***git push***

## Немного о коммитах

git ведёт лог коммитов. Увидеть его можно набрав ***git log***

для сокращенного вида ***git log oneline***

В логе можно увидеть информацию об авторе, дете создания коммита и комментарий.

У каждого коммита есть свой хэш - информация о коммите в SHA-1 из 40 символов.

Самый последний коммит имеет статус HEAD. Увидеть более подробную информацию по нему можно в файле ***.git/HEAD***

Чтобы файлы не коммитились нужно добавить их в .gitignore

- Полное имя
- Помаске с * - все файлы
- Помаске с ** - все файлы со всеми подпапками
- По маске с ? - один символ
- По маске с [0-2] - символы от 0 по 2

Если не нужно игнорировать файл то нужно к его имени добавить !

## Статусы файлов

Все файлы в git имеют статусы ***untracked/tracked, staged и modified***

***Untracked*** - это новые добавленные файлы.

***Tracked*** - это проиндексированные файлы, готовые к добавлению в коммит

***Staged*** - это изменённые но не проиндексированные файлы 

***Modified** - это закомиченные файлы.

## Отмена сделаного

Если нужно добавить что-то новое в последний коммит команда ***git commit --amend --no-edit*** или ***git commet --amend -m "Новый коментарий"***

Если изменили файл и теперь нужно вернуть как было команда ***git restore*** *имя файла*

Если добавили файл в индекс и нужно его убрать команда ***git restore --staged*** *имя файла*

Если нужно добавить что-то новое в последний коммит команда ***git commit --amend --no-edit*** или ***git commet --amend -m "Новый коментарий"***

Если изменили файл и теперь нужно вернуть как было команда ***git restore*** *имя файла*

Если добавили файл в индекс и нужно его убрать команда ***git restore --staged*** *имя файла*

Если нужно перейти на старый коммит команда ***git reset --hard*** *хэш коммита* при этом более ранние коммиты удалятся

Если нужно добавить что-то новое в последний коммит команда ***git commit --amend --no-edit*** или ***git commet --amend -m "Новый коментарий"***

Если изменили файл и теперь нужно вернуть как было команда ***git restore*** *имя файла*

Если добавили файл в индекс и нужно его убрать команда ***git restore --staged*** *имя файла*

Только что добавленные файлы можно удалить командой ***git clean -r***

Если файл закомитили, но его больше не нужно отслеживать команда ***ggit rm --cached*** *имя файла*

## Сравнить изменения

Если файл еще не попал в индекс команда ***git deff***

Если файл попал в индекс команда ***git deff --staged***

Если нужно сравнить между коммитами команда ***git deff*** *хэщ из log oneline* 

## Форки

Чтобы склонировать чужой проект команда ***git clone*** *ssh адрес из* ***code***

Чтобы создать форк нажать на странице проекта на ***Fork***

## Ветки

Чтобы создать ветку команда ***git branch*** *название ветки*

Чтобы переименовать ветку из неё команда ***git branch -m*** *новое имя ветки*

Чтобы просмотреть список веток ***git branch*** 

Чтобы перейти в ветку команда ***git checkout*** *название ветки*

Чтобы создать ветку и сразу в неё перейти команда ***git checkout -b*** *название ветки*

ЧТобы сравнить ветки так же можно использовать команду ***git diff*** *название первой ветки название второй ветки*

Чтобы слить ветки нужно перейти в ту, в которую будем сливаться и команду ***git merge*** *название сливаемой ветки* 

Чтобы отменить слияние команда ***git reset --megre*** *Хэш коммита до слияния*

Чтобы отменить конфликтное слияние команда ***git merge --abort***

Чтобы удалить ненужную ветку команда ***git branch -D*** *Название ветки* или ***git branch -d*** *Название ветки*, вторая команда только если ветка слита. 

Чтобы запушить ветку команда ***git push origin*** *имя ветки*

## Возвращение прошлых версий из коммита

Чтобы вернуть файл из коммита команда ***git checkout*** *хэш комита имя файла*

Чтобы отменить коммит команда ***git revert*** *хэш коммита* 

Чтобы отменить коммит и перенести его в индекс команда ***git reset --soft*** *хэш коммита*

Чтобы отменить комммит но оставить изменения без индекса команда ***git reset*** *хэщ коммита*

Если нужно перейти на старый коммит команда ***git reset --hard*** *хэш коммита* при этом более ранние коммиты удалятся

